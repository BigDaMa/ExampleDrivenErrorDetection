import matplotlib.pyplot as plt
import numpy as np

def get_label(list_of_lists, labels):
    new_list = []
    min = -1
    for l in list_of_lists:
        if min == -1 or len(l) < min:
            min = len(l)

    for i in range(len(list_of_lists)):
        new_list.append(list_of_lists[i][0:min])

    return new_list, labels[0:min]

def plot_list(ranges, list_series, list_names):
    fig = plt.figure()
    ax = plt.subplot(111)

    for i in range(len(list_series)):
        ax.plot(ranges[i], list_series[i], label=list_names[i])

    ax.set_ylabel('fscore')
    ax.set_xlabel('labels')

    ax.legend(loc=4)

    plt.show()


def plot_real_stats(ranges, list_all, list_names):
    fig = plt.figure()
    ax = plt.subplot(111)

    print list_names

    for i in range(len(list_all)):
        mins = np.min(np.matrix(list_all[i]), axis=0).A1
        maxes = np.max(np.matrix(list_all[i]), axis=0).A1
        means = np.mean(np.matrix(list_all[i]), axis=0).A1
        std = np.std(np.matrix(list_all[i]), axis=0).A1

        print len(std)
        print len(means)
        print len(ranges[i])
        print list_names[i]

        # create stacked errorbars:
        ax.errorbar(ranges[i], means, std, label=list_names[i])
        ax.errorbar(ranges[i], means, [means - mins, maxes - means], fmt='.k', ecolor='gray', lw=1)

    ax.set_ylabel('fscore')
    ax.set_xlabel('labels')

    ax.legend(loc=4)

    plt.show()

fscore_wo_svd = []
fscore_wo_svd.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.180009988591013, 0.18646079960502249, 0.3108188013731113, 0.43017151041858659, 0.52439010747532855, 0.64698616740436732, 0.65258513649292138, 0.67187504290731748, 0.68706999457406404, 0.72783718704983025, 0.72989265856535979, 0.7322334149333305, 0.74396188656754114, 0.75758334188121867, 0.78021205314603337, 0.78793507469588242, 0.83949892396163561, 0.84098228156623211, 0.84331093885014341, 0.84331093885014341, 0.8363407066205788, 0.8378207183064279, 0.84576480550656852, 0.85034962848309315, 0.85635730242294539, 0.86180534946198228, 0.86180534946198228, 0.85367981610235155, 0.85485817820569243, 0.85485817820569243, 0.86303393366870185, 0.86260539795995295, 0.85238040544420834, 0.85964198798019509, 0.87008262303647821, 0.87123263314642208, 0.87123263314642208, 0.87652456059392947, 0.87742152283890829, 0.87742152283890829, 0.87944706442714848, 0.87947176453817977, 0.89129855192675012, 0.88956439389052178, 0.89719609084796215, 0.89753928664260674, 0.89691481685062802, 0.90014599531456907, 0.90015784082119044, 0.90015784082119044])
fscore_wo_svd.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.144043623776973, 0.1537784383722833, 0.24075921990405372, 0.37155918188937659, 0.49512790880916113, 0.63388046085361149, 0.6398494458453392, 0.66162174617380809, 0.67792942442859705, 0.71987911755817469, 0.73127905923852499, 0.73731203807075696, 0.75048951264019015, 0.75927625506163887, 0.77268711511907184, 0.77651702150541801, 0.81630151027302766, 0.81211597613745545, 0.81490479569181473, 0.81490479569181473, 0.82896092685669154, 0.82969560143359145, 0.83272694866459762, 0.83354772385451859, 0.83838253821520647, 0.83733763698362695, 0.84291303355278524, 0.84753405255425496, 0.8480467873315114, 0.8480467873315114, 0.85497713544464682, 0.85547846490784363, 0.85902673630863102, 0.87171442559613788, 0.87913668516276111, 0.88128880854977321, 0.88719065202126457, 0.88646438898572333, 0.87784134761413934, 0.87784134761413934, 0.87673315904988047, 0.87674189379977396, 0.87857376783825392, 0.8798310267646039, 0.88241796594896793, 0.88496634217790693, 0.88494520143119326, 0.88567523354700817, 0.89525188053863858, 0.89525188053863858])
fscore_wo_svd.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.16400053224958897, 0.17626965699096137, 0.2800069096294226, 0.39875070050983452, 0.48478404896362437, 0.62052724954260696, 0.62593075268405485, 0.64701019045156838, 0.66326555046201086, 0.70399490286816846, 0.70259536082474228, 0.71248151365055512, 0.68831871021652036, 0.69330382356061016, 0.73068475569604496, 0.73580782388484101, 0.79286057843677105, 0.79286057843677105, 0.77592649191372032, 0.77592649191372032, 0.78949734336573196, 0.79246807073763392, 0.81742861370025155, 0.81414766302240549, 0.81864392539069053, 0.81966641642295912, 0.81966641642295912, 0.81056552741578558, 0.8305044576223326, 0.8305044576223326, 0.82705079322150432, 0.82678650070108461, 0.84480080538999358, 0.85624221610464546, 0.86329223610495431, 0.86632248421247326, 0.8651348328167634, 0.87325572770053395, 0.87355613776595464, 0.87355613776595464, 0.88422294278605074, 0.88449082767768972, 0.88673203369482778, 0.89414497113968694, 0.89649348396248552, 0.89806861473408994, 0.89737617152312377, 0.89903907111488501, 0.89984050873361887, 0.89984050873361887])
fscore_wo_svd.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.16696894004022025, 0.17830031084138631, 0.29614589808958364, 0.4135725113693785, 0.53150326394876224, 0.65735232976176561, 0.65824625367579248, 0.67866516885750194, 0.68933558207282319, 0.72902193807709859, 0.73645608073318913, 0.73781149967912252, 0.73800606384876044, 0.73437095449804335, 0.7418421010897529, 0.7430419433798503, 0.77958896745647766, 0.77958896745647766, 0.78578105317683633, 0.78578105317683633, 0.79748087394443434, 0.80177606018870629, 0.81410404768904543, 0.82513963895480658, 0.82923503022388845, 0.83335977354938273, 0.84995410250958137, 0.82989931032385889, 0.83038853148270098, 0.83038853148270098, 0.83634323738780569, 0.83741272729619165, 0.83780966295145554, 0.84281329091408064, 0.84940960924913911, 0.84972500808799745, 0.84983855237825734, 0.86983548507993114, 0.87068267281903688, 0.87068267281903688, 0.87670238346557638, 0.87585905686795906, 0.88698050849663002, 0.89840703591311655, 0.90524443381101416, 0.90670401294994496, 0.90588859279190703, 0.90651717758336037, 0.90681915757566356, 0.90681915757566356])
fscore_wo_svd.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.15446886704811053, 0.16701661767352571, 0.2650454049462842, 0.3958993556283652, 0.4580489416308795, 0.60834885904420477, 0.62025314629004025, 0.6425707600745082, 0.65290045984164846, 0.69551988150513133, 0.70374203843116334, 0.70460006520347918, 0.70499374234985079, 0.70545164484541745, 0.75966225457152525, 0.76460432997387084, 0.79718944933468228, 0.79718944933468228, 0.80735828568038603, 0.80735828568038603, 0.82051421336013164, 0.8207482325853952, 0.84101182435374044, 0.85090094848888542, 0.8544007248252653, 0.85631809196668707, 0.87134006956250332, 0.86077942693062093, 0.86085404089151307, 0.86085404089151307, 0.86546313601464486, 0.86536909644555793, 0.87213078360713281, 0.87740753765157387, 0.8825056918333688, 0.88480922799420969, 0.87935288414624146, 0.8853670470188284, 0.88677320811566596, 0.88677320811566596, 0.88434706710584166, 0.88396716001287545, 0.88285522080289836, 0.88805002818728918, 0.89155181167903552, 0.89391095288732714, 0.8962310916760412, 0.90103953420359983, 0.90167384878852386, 0.90167384878852386])

average_wo_svd = list(np.mean(np.matrix(fscore_wo_svd), axis=0).A1)




fscore_0 = []
fscore_0.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.20089419053991789, 0.26465548757658647, 0.42265622814484455, 0.52618037786112382, 0.6386219488756486, 0.75733679138966437, 0.75927332236722278, 0.77546596596183026, 0.74135392156357971, 0.7480183512392401, 0.7523891528997132, 0.74342952799420414, 0.74514657336086354, 0.77364803382190306, 0.7871052796785738, 0.79421066105787319, 0.84467853556762096, 0.84764606304616363, 0.90295971602895297, 0.94031776439583681, 0.94102887793532974, 0.95310691602432818, 0.95324920425141368, 0.95098265655939151, 0.95178133942725396, 0.95877053524112343, 0.95877322689718636, 0.95894156343751791, 0.95907066795740559, 0.95917545571404239, 0.9592904088513029, 0.95789183734412497, 0.95789183734412497, 0.95996845057106273, 0.97061436355654251, 0.97603776182719859, 0.97124425810031756, 0.9717918299515319, 0.97179307898349188, 0.97179307898349188, 0.97213293492627595, 0.97323817100896259, 0.97324213645802349, 0.97348210366987709, 0.97685663869429562, 0.9828576621252344, 0.99011326047816439, 0.99010136775152535, 0.99010136775152535, 0.99010136775152535])
fscore_0.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.17959813640012118, 0.21792368817646254, 0.37390394131960586, 0.44101162426484353, 0.49330512331877818, 0.63610413970216584, 0.63705565602999936, 0.65699545810043847, 0.67759009786826752, 0.68371809602023648, 0.71384281612367351, 0.71655634595841688, 0.71934604157816118, 0.75214153606541412, 0.80322343095796489, 0.81425405908437609, 0.86777188852376363, 0.86996053774644799, 0.87192039724883508, 0.91387669064957111, 0.91437396719807928, 0.91557720152691857, 0.91558978409689307, 0.94593370225694451, 0.94289931062327625, 0.94846778780742536, 0.94846778780742536, 0.94865930780263574, 0.9486564707310986, 0.9486564707310986, 0.94950329784303233, 0.95413852256888598, 0.9542856759998124, 0.95436563243776396, 0.97283390541845405, 0.97860211316101875, 0.97516599244120017, 0.97503262515007572, 0.97503530032024766, 0.97503530032024766, 0.97538941948690105, 0.97524493931354317, 0.97524895320189009, 0.97526295998412305, 0.98001885978315184, 0.98021564098831304, 0.98604610748407329, 0.98674113564311738, 0.98674113564311738, 0.98674113564311738])
fscore_0.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.19878082210875028, 0.24150070794501738, 0.35317078067359425, 0.46073630078670436, 0.51662840785566522, 0.65532286212914481, 0.65992326867538242, 0.68099649348989444, 0.65973170936757819, 0.68910295471992533, 0.69369666420319243, 0.70380867736116559, 0.7175265130372378, 0.74113996448597663, 0.7769814450036483, 0.77879129031498995, 0.80579109550079031, 0.80623652170549387, 0.85087531261164706, 0.86408623473032586, 0.86455819886991014, 0.86631928309808781, 0.90745044174525968, 0.91360008785569169, 0.92702918779366417, 0.9380522648317754, 0.94916312599477604, 0.94652322587673277, 0.94652322587673277, 0.94652322587673277, 0.94596061826797362, 0.9462184606235664, 0.94706583839726421, 0.94651250147665678, 0.95682724403517205, 0.95922002656989436, 0.97120514196651397, 0.97377431545994719, 0.97377431545994719, 0.97377431545994719, 0.97426466326928796, 0.97426525983935586, 0.97427582751990638, 0.9747445492249589, 0.97762949611492289, 0.98162849424172816, 0.97010756886206151, 0.9706463171627453, 0.9706463171627453, 0.9706463171627453])
fscore_0.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1694274784585634, 0.21041241508560149, 0.37304752017365861, 0.47816380274860742, 0.56150210551760116, 0.68928167806893714, 0.69186215495562298, 0.71085268424319592, 0.72968743632584854, 0.73422638416699371, 0.76994812905406829, 0.77916768095570899, 0.77967557039583124, 0.81343988790589306, 0.84334077331230539, 0.85610196965011243, 0.89920966622224563, 0.9006444958718397, 0.90279005013973368, 0.94288415387971791, 0.94137224209407977, 0.94409472501147662, 0.94416715031921072, 0.94606810075100056, 0.95389116945480512, 0.95905884693566357, 0.94897367859212489, 0.94894284430841391, 0.94894284430841391, 0.94894284430841391, 0.95138163045761526, 0.9514945039835615, 0.95150117825592662, 0.95160351339817462, 0.96281176880569519, 0.96607762984225432, 0.97991387013405928, 0.98069813698230712, 0.98069813698230712, 0.98069813698230712, 0.98103509301575076, 0.98104967839236512, 0.98105100431498904, 0.98126850642423369, 0.98335704828224868, 0.98554513321572945, 0.99210201153938782, 0.991959041366963, 0.991959041366963, 0.991959041366963])
fscore_0.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.20044418991213978, 0.2314610904151316, 0.39971751412429374, 0.47197700334594628, 0.55417076877977045, 0.69004704966746855, 0.69324375973892327, 0.71234397633731472, 0.73161883675381079, 0.71372237272888928, 0.7161053085253688, 0.72421301787433723, 0.71938374100212554, 0.74308439090005263, 0.77206693016732542, 0.78333618322453447, 0.82903145037503134, 0.83107001410491843, 0.83325864578968145, 0.89329845559551968, 0.89456234179022098, 0.8986342274563881, 0.9028489902592689, 0.9240612162352505, 0.93395877471693711, 0.94074777784484409, 0.94635762108392341, 0.94652151114102567, 0.9466053291630091, 0.9466053291630091, 0.947241890119356, 0.95004944631849686, 0.95062096554705777, 0.96250357614182747, 0.96644376996213321, 0.96289921465106076, 0.96255433053474659, 0.9624886453714524, 0.9624886453714524, 0.9624886453714524, 0.9626441995429792, 0.96263228208958362, 0.96283957888537142, 0.96274394783153094, 0.97385101575461419, 0.97818008352581365, 0.98014647260109178, 0.98065266669963225, 0.98065134024830936, 0.98065134024830936])

average_0 = list(np.mean(np.matrix(fscore_0), axis=0).A1)
label_0 = [4, 8, 12, 16, 20, 24, 28, 32, 36, 40, 50, 60, 70, 80, 90, 100, 110, 120, 130, 140, 150, 160, 170, 180, 190, 200, 210, 220, 230, 240, 250, 260, 270, 280, 290, 300, 310, 320, 330, 340, 350, 360, 370, 380, 390, 400, 410, 420, 430, 440, 450, 460, 470, 480, 490, 500, 510, 520, 530, 540]


ranges = [label_0, label_0, label_0]
list = [average_wo_svd, average_0]
names = ["without svd", "with svd"]

list_real = [fscore_wo_svd, fscore_0]

plot_list(ranges, list, names)