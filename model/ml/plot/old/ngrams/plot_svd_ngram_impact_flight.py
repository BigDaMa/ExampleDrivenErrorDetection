import matplotlib.pyplot as plt
import numpy as np

def get_label(list_of_lists, labels):
    new_list = []
    min = -1
    for l in list_of_lists:
        if min == -1 or len(l) < min:
            min = len(l)

    for i in range(len(list_of_lists)):
        new_list.append(list_of_lists[i][0:min])

    return new_list, labels[0:min]

def plot_list(ranges, list_series, list_names):
    fig = plt.figure()
    ax = plt.subplot(111)

    for i in range(len(list_series)):
        ax.plot(ranges[i], list_series[i], label=list_names[i])

    ax.set_ylabel('fscore')
    ax.set_xlabel('labels')

    ax.legend(loc=4)

    plt.show()


def plot_real_stats(ranges, list_all, list_names):
    fig = plt.figure()
    ax = plt.subplot(111)

    print list_names

    for i in range(len(list_all)):
        mins = np.min(np.matrix(list_all[i]), axis=0).A1
        maxes = np.max(np.matrix(list_all[i]), axis=0).A1
        means = np.mean(np.matrix(list_all[i]), axis=0).A1
        std = np.std(np.matrix(list_all[i]), axis=0).A1

        print len(std)
        print len(means)
        print len(ranges[i])
        print list_names[i]

        # create stacked errorbars:
        ax.errorbar(ranges[i], means, std, label=list_names[i])
        ax.errorbar(ranges[i], means, [means - mins, maxes - means], fmt='.k', ecolor='gray', lw=1)

    ax.set_ylabel('fscore')
    ax.set_xlabel('labels')

    ax.legend(loc=4)

    plt.show()

fscore_wo_svd = []
fscore_wo_svd.append([0.0, 0.0, 0.0, 0.0, 0.30139823925427239, 0.53607118412046539, 0.6713541035277002, 0.78787878787878796, 0.78847753743760396, 0.81241703257428788, 0.75113907572141447, 0.73178434468757059, 0.73362642317664295, 0.73527755883346468, 0.81310705518198312, 0.82055638139732434, 0.82055638139732434, 0.82213522378584281, 0.83751815729404444, 0.84651543020641729, 0.84651543020641729, 0.85205897305541434, 0.86082893132872829, 0.87312606902102829])
fscore_wo_svd.append([0.0, 0.0, 0.0, 0.0, 0.30139823925427239, 0.4968617720040871, 0.64029322548028322, 0.75604970568999352, 0.75672145422880155, 0.77144402379664689, 0.77736777367773691, 0.79625242300236909, 0.79797653643310729, 0.81722006913166445, 0.82974316487158228, 0.81542642140468224, 0.81542642140468224, 0.83219315895372237, 0.83340056474384838, 0.84192335061502488, 0.84192335061502488, 0.8414927768860353, 0.84493797519007596, 0.85650587758411012])
fscore_wo_svd.append([0.0, 0.0, 0.0, 0.0, 0.30286305622628495, 0.54517738359201784, 0.67953667953667962, 0.78519892805607094, 0.78479447821159998, 0.77451802179379714, 0.7838012958963283, 0.78624813153961137, 0.78796286415537298, 0.80675973548861124, 0.8157431382703263, 0.83498419388830358, 0.83535236490045306, 0.83948497854077264, 0.85033140902287796, 0.85156498673740044, 0.85156498673740044, 0.86224275514489712, 0.86440146366962889, 0.87191390588731799])
fscore_wo_svd.append([0.0, 0.0, 0.0, 0.0, 0.30286305622628495, 0.54853366377529944, 0.68543689320388346, 0.79267669019126519, 0.79264179867143592, 0.81076303643327119, 0.79185565971172256, 0.77926142290840805, 0.77946688879633486, 0.77537401786675275, 0.81500157579577692, 0.83756239600665561, 0.8391127772571072, 0.8490974729241878, 0.85374922536665987, 0.85458892007067866, 0.85458892007067866, 0.85568274734260019, 0.87102954522537057, 0.87421962951591448])
fscore_wo_svd.append([0.0, 0.0, 0.0, 0.0, 0.30139823925427239, 0.52139528315209716, 0.64616898290493163, 0.75716502845318168, 0.75780119859475092, 0.78825017021690502, 0.80385149890808016, 0.80189174986862854, 0.80357142857142849, 0.80365002683843278, 0.80820291419320012, 0.83514233053450748, 0.83514233053450748, 0.83382291229542582, 0.83956774729842054, 0.83777446173523773, 0.83777446173523773, 0.84900465904277844, 0.85602288378006142, 0.85073521633343907])

average_wo_svd = list(np.mean(np.matrix(fscore_wo_svd), axis=0).A1)

#ngram = 2
fscore_wo_svd_2 = []
fscore_wo_svd_2.append([0.0, 0.0, 0.0, 0.0, 0.30134622022782187, 0.56073752711496749, 0.65773626643726202, 0.7685976574865464, 0.77075431942688577, 0.76855142703284862, 0.80300590445517972, 0.8066575944729405, 0.8066575944729405, 0.82904871461438434, 0.84198043284909563, 0.84512977684129875, 0.84512977684129875, 0.84017651573292396, 0.84207498321986773, 0.85306365258774541, 0.85306365258774541, 0.85739946113162357, 0.86596102482935999, 0.86729341909945568])
fscore_wo_svd_2.append([0.0, 0.0, 0.0, 0.0, 0.30139823925427239, 0.55307035380235858, 0.59044896987019169, 0.70461978740801301, 0.70528143834916734, 0.70740590853905305, 0.76977007938962783, 0.7867825383993533, 0.788129605329565, 0.79960238568588471, 0.84468188440990777, 0.8442394542135101, 0.8442394542135101, 0.85121041048703472, 0.8558851674641148, 0.86221878922467898, 0.86243845931074414, 0.86527993779160184, 0.87320944638017806, 0.87677820076137047])
fscore_wo_svd_2.append([0.0, 0.0, 0.0, 0.0, 0.30139823925427239, 0.53857832988267773, 0.64154044851473524, 0.74229249011857712, 0.74427782162588796, 0.76788629597618363, 0.79860904123199217, 0.80012053033346731, 0.80012053033346731, 0.78990751909931645, 0.80611731562531441, 0.81765178930438265, 0.81796262808921028, 0.82188166040799759, 0.82895268904164987, 0.82120302308727611, 0.82137309723516616, 0.83270311701584054, 0.84669024759979794, 0.8595727447605549])
fscore_wo_svd_2.append([0.0, 0.0, 0.0, 0.0, 0.30134622022782187, 0.56421336934503719, 0.68888354186718004, 0.78789670806229062, 0.78988288554276154, 0.79309656823623309, 0.80431193551519864, 0.8074534161490684, 0.8074534161490684, 0.80582812964614925, 0.82375440362355312, 0.83754813195962119, 0.83766909469302819, 0.83919491525423728, 0.84496615905245354, 0.85941589029624199, 0.85989327194726384, 0.86577111319379352, 0.87019230769230771, 0.8709205020920503])
fscore_wo_svd_2.append([0.0, 0.0, 0.0, 0.0, 0.30139823925427239, 0.57822601499870696, 0.61181535517818708, 0.73175056644665548, 0.73187549251379047, 0.72145166336427158, 0.78127522195318799, 0.78441076399628828, 0.78616287449809519, 0.80024311183144248, 0.84476679762264539, 0.85563451776649746, 0.8557506852096235, 0.84179294267245941, 0.85014137606032036, 0.85802076711167619, 0.85814175230426948, 0.87238644556596978, 0.87870341695055221, 0.87914617557811026])

average_wo_svd_2 = list(np.mean(np.matrix(fscore_wo_svd_2), axis=0).A1)




fscore_0 = []
fscore_0.append([0.0, 0.0, 0.0, 0.0, 0.3022774327122153, 0.49671676637968776, 0.65743690271992161, 0.75257944696657042, 0.75283680627192073, 0.78949889815080954, 0.79103877838055048, 0.79462532299741595, 0.79586990191017037, 0.79917184265010344, 0.81055742382553764, 0.83308149491286387, 0.8330145948666331, 0.8419377300308365, 0.85089463220675954, 0.84464431725265743, 0.84507618365886072, 0.8459251665812404, 0.8491414554374489, 0.87017048320387369])
fscore_0.append([0.0, 0.0, 0.0, 0.0, 0.29846100639806333, 0.50698602794411185, 0.65282201554338126, 0.76877339792997135, 0.77080356161371877, 0.79118253882071887, 0.79237104464672736, 0.79590737749057605, 0.7972027972027973, 0.81930693069306926, 0.82510096303199754, 0.82014853083629313, 0.819686223941543, 0.82251725969198086, 0.8320016820857864, 0.84796573875803005, 0.84891792568395263, 0.84415449932691322, 0.84934903905765646, 0.85723108594956254])
fscore_0.append([0.0, 0.0, 0.0, 0.0, 0.30169140490162233, 0.54260338606716629, 0.68801780635587984, 0.78817226457861123, 0.78867147270854787, 0.779789301421704, 0.78847687400318978, 0.78198236938292842, 0.77548853016142738, 0.79768786127167635, 0.80979403110550652, 0.79982882208195138, 0.80834955656500107, 0.81518116331577262, 0.82387932865944347, 0.84141519250780439, 0.84153574029757572, 0.84974629802216006, 0.85770423991726996, 0.86868480261812231])
fscore_0.append([0.0, 0.0, 0.0, 0.0, 0.29757785467128028, 0.53098071399261382, 0.66875527171948423, 0.77243655869610051, 0.77471169686985175, 0.76800858829844343, 0.78049823586015177, 0.76914539400665927, 0.77050997782705111, 0.80356581017304651, 0.81378438191590263, 0.83398170539375471, 0.83398170539375471, 0.84032904450537871, 0.85134993171551643, 0.86114469971785568, 0.86114469971785568, 0.87170227705888248, 0.87019854335029434, 0.8738848337388484])
fscore_0.append([0.0, 0.0, 0.0, 0.0, 0.30169140490162233, 0.54760269267756556, 0.65843113032736245, 0.77013054830287198, 0.77062689058099509, 0.77226277372262764, 0.79710872402369237, 0.78118348233290757, 0.76559900166389339, 0.78348846620801282, 0.79302108214767897, 0.80519480519480513, 0.82020583910943079, 0.82535034511608452, 0.83696437790397527, 0.85085771947527744, 0.8539894694208181, 0.86012992285830281, 0.86458439312239288, 0.87733549959382606])

average_0 = list(np.mean(np.matrix(fscore_0), axis=0).A1)
label_0 = [4, 8, 12, 16, 26, 36, 46, 56, 66, 76, 86, 96, 106, 116, 126, 136, 146, 156, 166, 176, 186, 196, 206, 216]


#ngram = 2
fscore_w_svd_2 = []
fscore_w_svd_2.append([0.0, 0.0, 0.0, 0.0, 0.29875518672199169, 0.55316285329744286, 0.67909391222274662, 0.79173537685517514, 0.79233968468904148, 0.7976369280064084, 0.80878128846942965, 0.77963386727688788, 0.78140703517587939, 0.79284177143504364, 0.81348764745159141, 0.84124858349644582, 0.84199669966996704, 0.83697547963475949, 0.84083044982698962, 0.84142872194710794, 0.84217185028993136, 0.85325358358255132, 0.85922579320258763, 0.86558528773633636])
fscore_w_svd_2.append([0.0, 0.0, 0.0, 0.0, 0.30110497237569062, 0.5565648224607761, 0.69973576747537836, 0.78954027836355967, 0.7917061361961899, 0.78544620517097574, 0.79097362008687366, 0.80962844586496208, 0.80962844586496208, 0.81739130434782614, 0.82202458279204549, 0.82800397219463751, 0.82800397219463751, 0.83750488854125926, 0.84776061400952107, 0.8540237658197275, 0.8540237658197275, 0.85352167182662531, 0.855685972676544, 0.85783789043495196])
fscore_w_svd_2.append([0.0, 0.0, 0.0, 0.0, 0.30222528894255646, 0.57192282102461744, 0.68784786641929496, 0.7809860538204676, 0.78261722581910942, 0.73568095036062786, 0.75483522420313343, 0.76715289032955147, 0.76715289032955147, 0.80627515739498401, 0.82000000000000006, 0.81806775407779175, 0.81806775407779175, 0.82612278533168504, 0.82346928345088422, 0.82592818015824709, 0.82592818015824709, 0.82874493927125503, 0.8390469488287926, 0.85037183936539407])
fscore_w_svd_2.append([0.0, 0.0, 0.0, 0.0, 0.30188028290495084, 0.54455852156057494, 0.69334303383048379, 0.79137134052388303, 0.79174368453481203, 0.80789765286592119, 0.80964441292675515, 0.82458307597282265, 0.82608248482978508, 0.84453092994674317, 0.85230024213075062, 0.85852245292129403, 0.85852245292129403, 0.86073744314332723, 0.86499517839922857, 0.87166201673973687, 0.87166201673973687, 0.87465967530503175, 0.88402010050251267, 0.88075657894736847])
fscore_w_svd_2.append([0.0, 0.0, 0.0, 0.0, 0.29728326700121127, 0.47423838270391688, 0.63141182217879821, 0.74676302318578736, 0.7486470234515934, 0.79924015196960607, 0.80293159609120524, 0.79763313609467446, 0.79957035445757252, 0.80488052872394511, 0.80740441027715959, 0.81839622641509435, 0.81839622641509435, 0.82237038511294658, 0.82672314208702347, 0.83641314919276399, 0.83641314919276399, 0.85075516693163755, 0.86227424074260939, 0.86425017768301349])

average_w_svd_2 = list(np.mean(np.matrix(fscore_w_svd_2), axis=0).A1)



ranges = [label_0, label_0, label_0, label_0]
list = [average_wo_svd, average_0, average_wo_svd_2, average_w_svd_2]
names = ["without svd, unigrams", "with svd, unigrams", "without svd, bigrams", "with svd, bigrams"]

#list_real = [fscore_wo_svd, fscore_0]

plot_list(ranges, list, names)