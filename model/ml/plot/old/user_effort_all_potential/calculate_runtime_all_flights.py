import numpy as np

from ml.datasets.flights import FlightHoloClean
from ml.plot.old.user_effort_all_potential import PlotterLatex

data = FlightHoloClean()

label_potential = [4, 8, 12, 16, 26, 36, 46, 56, 66, 76, 86, 96, 106, 116, 126, 136, 146, 156, 166, 176, 186, 196, 206, 216, 226, 236, 246, 256, 266, 276, 286]


fscore_metadata_no_svd_absolute_potential = []
fscore_metadata_no_svd_absolute_potential.append([0.0, 0.0, 0.0, 0.0, 0.30257029498016214, 0.56367828563678291, 0.69897659098929543, 0.81845732720696052, 0.82742636407532599, 0.82714023742881959, 0.84243676803464229, 0.84110191683251279, 0.8580651879620953, 0.8661815881050301, 0.87795234626989915, 0.88092794087456383, 0.88004136504653563, 0.8945514812512948, 0.90140551795939616, 0.89645861460172394, 0.90111030403652581, 0.90158135663753647, 0.9171555006689307, 0.91854134565998968, 0.92624215615677397, 0.93310147299508994, 0.93340163934426235, 0.93449334698055264, 0.93998172032090999, 0.94219417870954603, 0.9442755825734549])
fscore_metadata_no_svd_absolute_potential.append([0.0, 0.0, 0.0, 0.0, 0.30139823925427239, 0.53216052776250689, 0.67792521109770798, 0.78574265289912637, 0.80781250000000004, 0.80839433870180577, 0.83740591813589027, 0.83552562348731974, 0.84651261394954425, 0.83897391679241218, 0.85497470489038785, 0.85799573560767595, 0.88928496540155177, 0.89705730511099624, 0.89944249432170142, 0.90283359093250903, 0.90837965822524191, 0.91550451189499593, 0.91695786228160336, 0.92139425534089747, 0.92155057788687744, 0.92498727735368946, 0.92740619902120724, 0.9281272300948108, 0.93702464253118345, 0.93821649589124467, 0.94104492783085991])
fscore_metadata_no_svd_absolute_potential.append([0.0, 0.0, 0.0, 0.0, 0.30139823925427239, 0.49752229930624381, 0.63269325455440661, 0.76299034709385916, 0.76323348379154698, 0.74785855479903363, 0.7848408064338438, 0.79439861050803307, 0.82181818181818178, 0.85786494136676117, 0.86429081997345036, 0.8678897202008814, 0.87148553317656674, 0.8725339875293876, 0.88868388683886834, 0.89334850522395792, 0.89643221202854229, 0.90147225368063422, 0.90579561744828996, 0.91599678456591638, 0.92004845548152636, 0.91963746223564957, 0.92260185277418072, 0.92825067358547042, 0.93227810058104588, 0.93560415197017033, 0.94184995480566436])
fscore_metadata_no_svd_absolute_potential.append([0.0, 0.0, 0.0, 0.0, 0.30139823925427239, 0.57879139286174464, 0.70524412296564187, 0.81956352299298529, 0.81321725366046704, 0.82512733446519526, 0.82565330141631754, 0.84501441495178442, 0.82026313063296385, 0.83577202496674496, 0.84453482460599905, 0.84446700507614214, 0.84812339331619546, 0.88476426799007446, 0.89269294727575066, 0.89381311893322879, 0.89889196675900274, 0.90198793393333998, 0.90889263408347387, 0.90936136453788163, 0.91906367784169807, 0.92921745969327563, 0.93591535236574164, 0.93590255591054317, 0.93741864423750865, 0.94031644302022832, 0.94554207200882556])
fscore_metadata_no_svd_absolute_potential.append([0.0, 0.0, 0.0, 0.0, 0.30139823925427239, 0.49101624263331889, 0.61994076999012837, 0.73693015474696777, 0.77364463791056592, 0.79677038204017325, 0.81815406533021273, 0.81730476287194076, 0.82406105643703564, 0.84589357120885889, 0.84621676891615538, 0.84672725416113548, 0.85363151002316917, 0.87933785400877529, 0.88781470292044307, 0.89216571371250875, 0.89891041162227603, 0.89915881220229044, 0.90515840779853785, 0.91507237574653311, 0.91525080906148859, 0.91640617122113543, 0.92020683362060218, 0.93954148914587143, 0.9402162823913488, 0.94207627982867626, 0.94268415741675071])


nadeef_fscore = 0.59098550956688811

openrefine_fscore = 0.7366


dboost_models = ["Gaussian", "Histogram", "Mixture"]
dboost_sizes = [50, 100, 150, 200]
dboost_fscore_all = [
                        # Gaussian
                        [
                            [0.538528896673, 0.538528896673, 0.387106163138, 0.536971350614, 0.538528896673],
                            [0.387106163138, 0.538528896673, 0.538528896673, 0.536971350614, 0.536971350614],
                            [0.536971350614, 0.536971350614, 0.538528896673, 0.538528896673, 0.538528896673],
                            [0.536971350614, 0.538528896673, 0.538528896673, 0.387106163138, 0.538528896673]
                        ],
                        # Histogram
                        [
                            [0.56778474014, 0.56778474014, 0.56778474014, 0.56778474014, 0.50033101622],
                            [0.50033101622, 0.56555613267, 0.56778474014, 0.56778474014, 0.56778474014],
                            [0.56555613267, 0.56555613267, 0.593559042114, 0.56778474014, 0.56555613267],
                            [0.56778474014, 0.56555613267, 0.593559042114, 0.56778474014, 0.56778474014]
                        ],
                        # Mixture
                        [
                            [0.682196339434, 0.682196339434, 0.501574365623, 0.501574365623, 0.682196339434],
                            [0.682196339434, 0.527322985329, 0.501574365623, 0.527322985329, 0.682196339434],
                            [0.682196339434, 0.682196339434, 0.682196339434, 0.682196339434, 0.682196339434],
                            [0.682196339434, 0.554024161987, 0.682196339434, 0.594272844273, 0.682196339434]
                        ]
                    ]

dboost_matrix_f = np.array(dboost_fscore_all)
dboost_avg_f = np.mean(dboost_matrix_f, axis = 2)


PlotterLatex(data, label_potential, fscore_metadata_no_svd_absolute_potential,
         dboost_models, dboost_sizes, dboost_avg_f,
         nadeef_fscore,
         openrefine_fscore,
         None, xmax=200, filename="Flights")