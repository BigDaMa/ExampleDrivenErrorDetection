import matplotlib.pyplot as plt
import numpy as np

def get_label(list_of_lists, labels):
    new_list = []
    min = -1
    for l in list_of_lists:
        if min == -1 or len(l) < min:
            min = len(l)

    for i in range(len(list_of_lists)):
        new_list.append(list_of_lists[i][0:min])

    return new_list, labels[0:min]

def plot_list(ranges, list_series, list_names):
    fig = plt.figure()
    ax = plt.subplot(111)

    for i in range(len(list_series)):
        ax.plot(ranges[i], list_series[i], label=list_names[i])

    ax.set_ylabel('fscore')
    ax.set_xlabel('labels')

    ax.legend(loc=4)

    plt.show()


def plot_real_stats(ranges, list_all, list_names):
    fig = plt.figure()
    ax = plt.subplot(111)

    print list_names

    for i in range(len(list_all)):
        mins = np.min(np.matrix(list_all[i]), axis=0).A1
        maxes = np.max(np.matrix(list_all[i]), axis=0).A1
        means = np.mean(np.matrix(list_all[i]), axis=0).A1
        std = np.std(np.matrix(list_all[i]), axis=0).A1

        print len(std)
        print len(means)
        print len(ranges[i])
        print list_names[i]

        # create stacked errorbars:
        ax.errorbar(ranges[i], means, std, label=list_names[i])
        ax.errorbar(ranges[i], means, [means - mins, maxes - means], fmt='.k', ecolor='gray', lw=1)

    ax.set_ylabel('fscore')
    ax.set_xlabel('labels')

    ax.legend(loc=4)

    plt.show()

fscore_gen_train_08 = []
fscore_gen_train_08.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.19974155653450806, 0.24921642163503357, 0.40158485444869374, 0.52219527675416577, 0.66226160830171332, 0.78613126915013709, 0.78613638562679389, 0.80335281207858467, 0.80845526445448157, 0.84586118593900694, 0.8474384883502738, 0.85420414096115893, 0.85612858334734865, 0.87103129786472822, 0.87513478613932572, 0.88309276411678961, 0.90753180636569575, 0.91036404476722466, 0.92534822347775658, 0.92534822347775658, 0.92537486078015996, 0.92465116585777585, 0.92964116385508511, 0.92952499325928417, 0.93177943816003672, 0.93258336922876583, 0.95713298405253133, 0.9571345332124821, 0.9571345332124821, 0.9571345332124821, 0.95714466064359083, 0.9589527243472773, 0.95933084947355796, 0.95956909141894775, 0.97096449043233568, 0.97029109918128353, 0.97232941448411803, 0.97235250872411261, 0.97235250872411261, 0.97235250872411261, 0.97235415827296567, 0.97244517200702962, 0.97246875972998392, 0.97248003851863729, 0.97426285170943883, 0.9787337025880638, 0.98151772687127758, 0.98148504586280472, 0.98148504586280472, 0.98148504586280472])
fscore_gen_train_08.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.19974155653450806, 0.26476155379487093, 0.41284548699643037, 0.43536093627065309, 0.57870997037645688, 0.72206926694783868, 0.72207642781495807, 0.73792271867429227, 0.74485970793247114, 0.78288862110518165, 0.78314926398075146, 0.78706495120372244, 0.79107475127537885, 0.85981685011931996, 0.87519298852716476, 0.87631339290322474, 0.927610149832372, 0.93242366406173349, 0.948021722265322, 0.95128290076777833, 0.95038539274156963, 0.95186108030514704, 0.95661755952859728, 0.95662382441107985, 0.95365820473796281, 0.95802078216872755, 0.95803734499854554, 0.95798004135403481, 0.95798004135403481, 0.95798004135403481, 0.96009238611022618, 0.96032307623655722, 0.96040591664302866, 0.96044886150805353, 0.9687180251007006, 0.9696276519913426, 0.96737325213850733, 0.96739763969366999, 0.96739763969366999, 0.96739763969366999, 0.96736204685293115, 0.96749782079730418, 0.96750620073499816, 0.96755660147691303, 0.97279527495172724, 0.97588821952414517, 0.97726969125857632, 0.97732738001345609, 0.97732738001345609, 0.97732738001345609])
fscore_gen_train_08.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.19974155653450806, 0.2497068665964858, 0.40207630633840358, 0.47022834259804669, 0.60913303944840058, 0.7409998338895516, 0.74104092503180463, 0.76213012041037531, 0.7167617989257633, 0.75627893466578988, 0.75689771362158043, 0.75967617045321001, 0.76543336255046357, 0.77916055488367875, 0.7866017927664869, 0.79131811621617831, 0.83995349796329444, 0.84006096103275152, 0.90791007280171998, 0.90793045123329619, 0.9080401412591862, 0.90756283550296624, 0.90945741642869138, 0.93339062628356229, 0.9398405581261996, 0.94879925900435147, 0.94898419577664372, 0.94918271564978163, 0.94918271564978163, 0.94918271564978163, 0.94917922693377421, 0.95393112390007662, 0.95423686275506481, 0.95407320852490674, 0.96347627325993179, 0.96396412356722161, 0.96678136279759108, 0.96730908394692361, 0.96730908394692361, 0.96730908394692361, 0.96832244185574534, 0.97000586848751891, 0.97008767991078015, 0.97033571955540054, 0.97521486913838928, 0.98414858397824034, 0.98619145819964826, 0.98620327072285074, 0.98620327072285074, 0.98620327072285074])
fscore_gen_train_08.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.19974155653450806, 0.24428681749277809, 0.39793612946097018, 0.43913954084067042, 0.58498190682066531, 0.72436880730192188, 0.72438303798362702, 0.74524678668880806, 0.74313390134576052, 0.78097275339043248, 0.78186964066106224, 0.78637985625973761, 0.79392674625213766, 0.82304088900710792, 0.83247657873673875, 0.83345879929920319, 0.84796563095228095, 0.84827233300057869, 0.87414802029720162, 0.87646373464526361, 0.87720298864997426, 0.88244727034832038, 0.88272686320636662, 0.90881476899011027, 0.91493898827153175, 0.91949967450019621, 0.93927445436112744, 0.93997767382003539, 0.93997767382003539, 0.93997767382003539, 0.94010390851370529, 0.93679845247106475, 0.93666575027895915, 0.9363698206255564, 0.94507424009764862, 0.95584615840820819, 0.96536194640482775, 0.96493329755424362, 0.96493329755424362, 0.96493329755424362, 0.96493329755424362, 0.96843779256922269, 0.96857247762907472, 0.96902119686747068, 0.97416393358367392, 0.98145137153072692, 0.99019162744515243, 0.99067848535599035, 0.99067848535599035, 0.99067848535599035])
fscore_gen_train_08.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.19974155653450806, 0.24666740456303762, 0.39858266534492531, 0.4839404049506314, 0.62658219944974203, 0.7561177299317019, 0.75612445277172258, 0.77524807583906186, 0.78137769742636098, 0.81977189611976364, 0.80818771023053571, 0.81466582643022512, 0.80693818872663869, 0.83930431290860952, 0.84918797190838935, 0.85931077277235746, 0.89856053140059133, 0.899357648238305, 0.91340019660750149, 0.91340735700376596, 0.92751805403237231, 0.93142098324382161, 0.94851051463509262, 0.94858426922508643, 0.94567492455541136, 0.93636775213736911, 0.94889159466720285, 0.94960855983720238, 0.94960855983720238, 0.94960855983720238, 0.9497027329132175, 0.95061408173058204, 0.95090277428452274, 0.95098387659550287, 0.96413111196611601, 0.97042913227691474, 0.9581072448128396, 0.95812126054093172, 0.95812126054093172, 0.95812126054093172, 0.9581540116815247, 0.95822546688760279, 0.95856226703178704, 0.95857126395575132, 0.96382220063773627, 0.96857320824262982, 0.97504606578586273, 0.9746254059428896, 0.9746254059428896, 0.9746254059428896])

average_gen_train_08 = list(np.mean(np.matrix(fscore_gen_train_08), axis=0).A1)


fscore_gen_test_02 = []
fscore_gen_test_02.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.19885587833702151, 0.24799323072701077, 0.39970386127360508, 0.521270846567368, 0.66230192932440501, 0.78588795570441883, 0.78588795570441883, 0.80316271327507283, 0.8075061280820649, 0.84513186067852053, 0.84684182220186044, 0.85379058988207635, 0.85550977354385738, 0.87060717631999163, 0.87435841105630008, 0.88218890897240343, 0.90660741556390145, 0.90958412234547914, 0.92517718059516796, 0.92517718059516796, 0.92519140544868617, 0.92442044674446844, 0.92967197800028945, 0.92943375857393007, 0.93171557184613418, 0.93260914642711423, 0.95731272449072213, 0.95731272449072213, 0.95731272449072213, 0.95731272449072213, 0.95731948469582928, 0.95924732300654958, 0.95966018692317179, 0.96001869862746891, 0.97160713254496334, 0.97078775599184419, 0.97276479740764077, 0.97277800637794465, 0.97277800637794465, 0.97277800637794465, 0.97277800637794465, 0.97281972819728202, 0.97282598214113525, 0.97284579186916609, 0.97447112323198537, 0.97925364838488682, 0.98185894030295562, 0.98185988053435602, 0.98185988053435602, 0.98185988053435602])
fscore_gen_test_02.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.19885587833702151, 0.26434428521886993, 0.41163964921605101, 0.43358381160878062, 0.57803337843933245, 0.72137927934003188, 0.72137927934003188, 0.73713254331069777, 0.74558857339924134, 0.78409216794062253, 0.78449964356654922, 0.78825442692519776, 0.79210462748887123, 0.86148823505991956, 0.87720235987412221, 0.87822715422153885, 0.92953559581525902, 0.93458763148533963, 0.94826634488247608, 0.95144080620754046, 0.95062227613784434, 0.95227901968826911, 0.95732465607783757, 0.95741282252766358, 0.95376820772640913, 0.95801388296823198, 0.95804040082710362, 0.95801473301187023, 0.95801473301187023, 0.95801473301187023, 0.96003569948681988, 0.96024133268705825, 0.96032090199479614, 0.96030110682274894, 0.96868519286603061, 0.96971033480781943, 0.96750123495307172, 0.96752512317832584, 0.96752512317832584, 0.96752512317832584, 0.96748739015131824, 0.96757462904829683, 0.96757462904829683, 0.96767234377132161, 0.97292661533963543, 0.97601574618402698, 0.97753475535838641, 0.97755250752871226, 0.97755250752871226, 0.97755250752871226])
fscore_gen_test_02.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.19885587833702151, 0.24984570370539694, 0.40132998405269904, 0.47255629794605297, 0.61191645978368436, 0.74317623475862482, 0.74319558730445789, 0.76452418166060476, 0.71878594636046245, 0.75840085524128631, 0.75910367788586597, 0.7613399542027941, 0.76706411583534617, 0.77953906974970444, 0.7873151912334827, 0.79155412781087242, 0.84035605466528585, 0.84045323133832539, 0.90835906555135415, 0.90837656001232592, 0.90849441960696009, 0.90798504619795062, 0.90999068467629252, 0.93375266564997561, 0.93977148762703111, 0.9486528951164227, 0.94869509866327184, 0.94876571072557014, 0.94876571072557014, 0.94876571072557014, 0.94878206674198085, 0.95379424497071541, 0.95412715585820662, 0.95413695946676502, 0.96367726590046221, 0.9643013804670364, 0.96722886560459109, 0.96779767821064999, 0.96779767821064999, 0.96779767821064999, 0.96879956319388472, 0.97043132877299099, 0.97051150596389224, 0.97069304617062291, 0.97532806359934487, 0.98469321063501614, 0.98657160610916717, 0.98659149181099892, 0.98659149181099892, 0.98659149181099892])
fscore_gen_test_02.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.19885587833702151, 0.24490963820947456, 0.39768827131516082, 0.43991730726772776, 0.58669099735748031, 0.72511232408748283, 0.72512179182509517, 0.74633034892722039, 0.74868012367924719, 0.78672696576647438, 0.78772122246144261, 0.7923763069957962, 0.7999088300753493, 0.82911998942533305, 0.83830646541397136, 0.83934049079754602, 0.85347888724306553, 0.85368822526982069, 0.87434536863442347, 0.87670322366234632, 0.87743051950299378, 0.88238384955752214, 0.88267499896307156, 0.90858385328039326, 0.91494828381316284, 0.91970328730618556, 0.93943633559571282, 0.94007088739309985, 0.94007088739309985, 0.94007088739309985, 0.94021841644822846, 0.93678949685371737, 0.93665609424558216, 0.93650454924631887, 0.94510661920778505, 0.95568789611485927, 0.96596183269635816, 0.96555165971386891, 0.96555165971386891, 0.96555165971386891, 0.96555165971386891, 0.96914155069327157, 0.96927849751748674, 0.96970748509150728, 0.9746665208130908, 0.98216833095577738, 0.99050322445615924, 0.9909892224032667, 0.9909892224032667, 0.9909892224032667])
fscore_gen_test_02.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.19885587833702151, 0.24620143753980531, 0.39732295719844357, 0.48457145066053325, 0.62829744195919468, 0.75697331728863881, 0.75697331728863881, 0.77624191902007489, 0.78143458752334805, 0.8200196218456548, 0.80660741632743882, 0.81295338811976603, 0.80512282708869598, 0.8369739478957916, 0.84713691050307116, 0.85745649229347076, 0.89661028504843787, 0.89751042744789378, 0.91216140060863349, 0.91216711229109404, 0.92839392896738915, 0.93234896245437604, 0.94971333480674469, 0.9497861164202781, 0.94572008436467825, 0.93632973554977805, 0.94868632846980627, 0.94931371785890351, 0.94931371785890351, 0.94931371785890351, 0.94940624817593988, 0.95035470199191296, 0.95068185214301026, 0.95076449221212134, 0.96356541649198624, 0.9700151871130207, 0.95738406902652595, 0.95740411920436397, 0.95740411920436397, 0.95740411920436397, 0.95744762686222717, 0.95748717948717943, 0.95786128056595066, 0.95786236063052677, 0.96376376120395346, 0.96856970304408718, 0.97563177485722508, 0.97529556392550742, 0.97529556392550742, 0.97529556392550742])

average_gen_test_02 = list(np.mean(np.matrix(fscore_gen_test_02), axis=0).A1)



fscore_0 = []
fscore_0.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.20089419053991789, 0.26465548757658647, 0.42265622814484455, 0.52618037786112382, 0.6386219488756486, 0.75733679138966437, 0.75927332236722278, 0.77546596596183026, 0.74135392156357971, 0.7480183512392401, 0.7523891528997132, 0.74342952799420414, 0.74514657336086354, 0.77364803382190306, 0.7871052796785738, 0.79421066105787319, 0.84467853556762096, 0.84764606304616363, 0.90295971602895297, 0.94031776439583681, 0.94102887793532974, 0.95310691602432818, 0.95324920425141368, 0.95098265655939151, 0.95178133942725396, 0.95877053524112343, 0.95877322689718636, 0.95894156343751791, 0.95907066795740559, 0.95917545571404239, 0.9592904088513029, 0.95789183734412497, 0.95789183734412497, 0.95996845057106273, 0.97061436355654251, 0.97603776182719859, 0.97124425810031756, 0.9717918299515319, 0.97179307898349188, 0.97179307898349188, 0.97213293492627595, 0.97323817100896259, 0.97324213645802349, 0.97348210366987709, 0.97685663869429562, 0.9828576621252344, 0.99011326047816439, 0.99010136775152535, 0.99010136775152535, 0.99010136775152535])
fscore_0.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.17959813640012118, 0.21792368817646254, 0.37390394131960586, 0.44101162426484353, 0.49330512331877818, 0.63610413970216584, 0.63705565602999936, 0.65699545810043847, 0.67759009786826752, 0.68371809602023648, 0.71384281612367351, 0.71655634595841688, 0.71934604157816118, 0.75214153606541412, 0.80322343095796489, 0.81425405908437609, 0.86777188852376363, 0.86996053774644799, 0.87192039724883508, 0.91387669064957111, 0.91437396719807928, 0.91557720152691857, 0.91558978409689307, 0.94593370225694451, 0.94289931062327625, 0.94846778780742536, 0.94846778780742536, 0.94865930780263574, 0.9486564707310986, 0.9486564707310986, 0.94950329784303233, 0.95413852256888598, 0.9542856759998124, 0.95436563243776396, 0.97283390541845405, 0.97860211316101875, 0.97516599244120017, 0.97503262515007572, 0.97503530032024766, 0.97503530032024766, 0.97538941948690105, 0.97524493931354317, 0.97524895320189009, 0.97526295998412305, 0.98001885978315184, 0.98021564098831304, 0.98604610748407329, 0.98674113564311738, 0.98674113564311738, 0.98674113564311738])
fscore_0.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.19878082210875028, 0.24150070794501738, 0.35317078067359425, 0.46073630078670436, 0.51662840785566522, 0.65532286212914481, 0.65992326867538242, 0.68099649348989444, 0.65973170936757819, 0.68910295471992533, 0.69369666420319243, 0.70380867736116559, 0.7175265130372378, 0.74113996448597663, 0.7769814450036483, 0.77879129031498995, 0.80579109550079031, 0.80623652170549387, 0.85087531261164706, 0.86408623473032586, 0.86455819886991014, 0.86631928309808781, 0.90745044174525968, 0.91360008785569169, 0.92702918779366417, 0.9380522648317754, 0.94916312599477604, 0.94652322587673277, 0.94652322587673277, 0.94652322587673277, 0.94596061826797362, 0.9462184606235664, 0.94706583839726421, 0.94651250147665678, 0.95682724403517205, 0.95922002656989436, 0.97120514196651397, 0.97377431545994719, 0.97377431545994719, 0.97377431545994719, 0.97426466326928796, 0.97426525983935586, 0.97427582751990638, 0.9747445492249589, 0.97762949611492289, 0.98162849424172816, 0.97010756886206151, 0.9706463171627453, 0.9706463171627453, 0.9706463171627453])
fscore_0.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1694274784585634, 0.21041241508560149, 0.37304752017365861, 0.47816380274860742, 0.56150210551760116, 0.68928167806893714, 0.69186215495562298, 0.71085268424319592, 0.72968743632584854, 0.73422638416699371, 0.76994812905406829, 0.77916768095570899, 0.77967557039583124, 0.81343988790589306, 0.84334077331230539, 0.85610196965011243, 0.89920966622224563, 0.9006444958718397, 0.90279005013973368, 0.94288415387971791, 0.94137224209407977, 0.94409472501147662, 0.94416715031921072, 0.94606810075100056, 0.95389116945480512, 0.95905884693566357, 0.94897367859212489, 0.94894284430841391, 0.94894284430841391, 0.94894284430841391, 0.95138163045761526, 0.9514945039835615, 0.95150117825592662, 0.95160351339817462, 0.96281176880569519, 0.96607762984225432, 0.97991387013405928, 0.98069813698230712, 0.98069813698230712, 0.98069813698230712, 0.98103509301575076, 0.98104967839236512, 0.98105100431498904, 0.98126850642423369, 0.98335704828224868, 0.98554513321572945, 0.99210201153938782, 0.991959041366963, 0.991959041366963, 0.991959041366963])
fscore_0.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.20044418991213978, 0.2314610904151316, 0.39971751412429374, 0.47197700334594628, 0.55417076877977045, 0.69004704966746855, 0.69324375973892327, 0.71234397633731472, 0.73161883675381079, 0.71372237272888928, 0.7161053085253688, 0.72421301787433723, 0.71938374100212554, 0.74308439090005263, 0.77206693016732542, 0.78333618322453447, 0.82903145037503134, 0.83107001410491843, 0.83325864578968145, 0.89329845559551968, 0.89456234179022098, 0.8986342274563881, 0.9028489902592689, 0.9240612162352505, 0.93395877471693711, 0.94074777784484409, 0.94635762108392341, 0.94652151114102567, 0.9466053291630091, 0.9466053291630091, 0.947241890119356, 0.95004944631849686, 0.95062096554705777, 0.96250357614182747, 0.96644376996213321, 0.96289921465106076, 0.96255433053474659, 0.9624886453714524, 0.9624886453714524, 0.9624886453714524, 0.9626441995429792, 0.96263228208958362, 0.96283957888537142, 0.96274394783153094, 0.97385101575461419, 0.97818008352581365, 0.98014647260109178, 0.98065266669963225, 0.98065134024830936, 0.98065134024830936])

average_0 = list(np.mean(np.matrix(fscore_0), axis=0).A1)
label_0 = [4, 8, 12, 16, 20, 24, 28, 32, 36, 40, 50, 60, 70, 80, 90, 100, 110, 120, 130, 140, 150, 160, 170, 180, 190, 200, 210, 220, 230, 240, 250, 260, 270, 280, 290, 300, 310, 320, 330, 340, 350, 360, 370, 380, 390, 400, 410, 420, 430, 440, 450, 460, 470, 480, 490, 500, 510, 520, 530, 540]


ranges = [label_0, label_0, label_0]
list = [average_gen_train_08,average_gen_test_02, average_0]
names = ["train 0.8","test 0.2", "train all"]

list_real = [fscore_gen_train_08, fscore_0]

plot_list(ranges, list, names)