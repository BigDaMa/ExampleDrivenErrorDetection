import matplotlib.pyplot as plt
import numpy as np

from ml.plot.old.potential_latex.plotlatex_lib import plot_list_latex


def plot_list(ranges, list_series, list_names):
    fig = plt.figure()
    ax = plt.subplot(111)

    for i in range(len(list_series)):
        ax.plot(ranges[i], list_series[i], label=list_names[i])

    ax.set_ylabel('fscore')
    ax.set_xlabel('labels')

    ax.legend(loc=4)

    plt.show()



label_potential = [4, 8, 12, 16, 26, 36, 46, 56, 66, 76, 86, 96, 106, 116, 126, 136, 146, 156, 166, 176, 186, 196, 206, 216, 226, 236, 246, 256, 266, 276, 286]

fscore_metadata_no_svd_absolute_potential = []
fscore_metadata_no_svd_absolute_potential.append([0.0, 0.0, 0.0, 0.0, 0.30257029498016214, 0.56367828563678291, 0.69897659098929543, 0.81845732720696052, 0.82742636407532599, 0.82714023742881959, 0.84243676803464229, 0.84110191683251279, 0.8580651879620953, 0.8661815881050301, 0.87795234626989915, 0.88092794087456383, 0.88004136504653563, 0.8945514812512948, 0.90140551795939616, 0.89645861460172394, 0.90111030403652581, 0.90158135663753647, 0.9171555006689307, 0.91854134565998968, 0.92624215615677397, 0.93310147299508994, 0.93340163934426235, 0.93449334698055264, 0.93998172032090999, 0.94219417870954603, 0.9442755825734549])
fscore_metadata_no_svd_absolute_potential.append([0.0, 0.0, 0.0, 0.0, 0.30139823925427239, 0.53216052776250689, 0.67792521109770798, 0.78574265289912637, 0.80781250000000004, 0.80839433870180577, 0.83740591813589027, 0.83552562348731974, 0.84651261394954425, 0.83897391679241218, 0.85497470489038785, 0.85799573560767595, 0.88928496540155177, 0.89705730511099624, 0.89944249432170142, 0.90283359093250903, 0.90837965822524191, 0.91550451189499593, 0.91695786228160336, 0.92139425534089747, 0.92155057788687744, 0.92498727735368946, 0.92740619902120724, 0.9281272300948108, 0.93702464253118345, 0.93821649589124467, 0.94104492783085991])
fscore_metadata_no_svd_absolute_potential.append([0.0, 0.0, 0.0, 0.0, 0.30139823925427239, 0.49752229930624381, 0.63269325455440661, 0.76299034709385916, 0.76323348379154698, 0.74785855479903363, 0.7848408064338438, 0.79439861050803307, 0.82181818181818178, 0.85786494136676117, 0.86429081997345036, 0.8678897202008814, 0.87148553317656674, 0.8725339875293876, 0.88868388683886834, 0.89334850522395792, 0.89643221202854229, 0.90147225368063422, 0.90579561744828996, 0.91599678456591638, 0.92004845548152636, 0.91963746223564957, 0.92260185277418072, 0.92825067358547042, 0.93227810058104588, 0.93560415197017033, 0.94184995480566436])
fscore_metadata_no_svd_absolute_potential.append([0.0, 0.0, 0.0, 0.0, 0.30139823925427239, 0.57879139286174464, 0.70524412296564187, 0.81956352299298529, 0.81321725366046704, 0.82512733446519526, 0.82565330141631754, 0.84501441495178442, 0.82026313063296385, 0.83577202496674496, 0.84453482460599905, 0.84446700507614214, 0.84812339331619546, 0.88476426799007446, 0.89269294727575066, 0.89381311893322879, 0.89889196675900274, 0.90198793393333998, 0.90889263408347387, 0.90936136453788163, 0.91906367784169807, 0.92921745969327563, 0.93591535236574164, 0.93590255591054317, 0.93741864423750865, 0.94031644302022832, 0.94554207200882556])
fscore_metadata_no_svd_absolute_potential.append([0.0, 0.0, 0.0, 0.0, 0.30139823925427239, 0.49101624263331889, 0.61994076999012837, 0.73693015474696777, 0.77364463791056592, 0.79677038204017325, 0.81815406533021273, 0.81730476287194076, 0.82406105643703564, 0.84589357120885889, 0.84621676891615538, 0.84672725416113548, 0.85363151002316917, 0.87933785400877529, 0.88781470292044307, 0.89216571371250875, 0.89891041162227603, 0.89915881220229044, 0.90515840779853785, 0.91507237574653311, 0.91525080906148859, 0.91640617122113543, 0.92020683362060218, 0.93954148914587143, 0.9402162823913488, 0.94207627982867626, 0.94268415741675071])

average_metadata_no_svd_absolute_potential = list(np.mean(np.matrix(fscore_metadata_no_svd_absolute_potential), axis=0).A1)


fscore_metadata_no_svd_unigram = []
fscore_metadata_no_svd_unigram.append([0.0, 0.0, 0.0, 0.0, 0.30139823925427239, 0.51687643020594964, 0.65850073493385597, 0.76995497339336882, 0.76679841897233203, 0.78602350030921464, 0.80056264442881531, 0.80112382099137081, 0.80037082818294192, 0.82096159785854006, 0.83503981797497151, 0.84647556870345808, 0.85071114294484806, 0.85317379841817076, 0.85185185185185197, 0.85430327868852451, 0.84601658444421124, 0.84816753926701571, 0.85847203556290708, 0.86166734777278287, 0.87281896116994451, 0.87608127137396896, 0.87476147433966056, 0.87986327535940478, 0.88795602198900558, 0.89311977435277534, 0.89749247743229688])
fscore_metadata_no_svd_unigram.append([0.0, 0.0, 0.0, 0.0, 0.30286305622628495, 0.50122143986204915, 0.6499691548426898, 0.767682989426137, 0.803008106260377, 0.81073773657782933, 0.81073773657782933, 0.82389937106918232, 0.82144249512670564, 0.82374806401652045, 0.84114528101802755, 0.84993305180760115, 0.85913901160998674, 0.85925771476230195, 0.87364768320065322, 0.88123539571268916, 0.88140079405476934, 0.88262532715925113, 0.8922400878857486, 0.89758669641046429, 0.89409118789613573, 0.89985723026718334, 0.90903509669497595, 0.91062429291370972, 0.91471759779389239, 0.91860226104830422, 0.92184286301933371])
fscore_metadata_no_svd_unigram.append([0.0, 0.0, 0.0, 0.0, 0.30257029498016214, 0.50942318675042841, 0.64926829268292685, 0.75949904478879215, 0.75962252147174203, 0.70890642615558064, 0.74731125545735277, 0.76287179487179491, 0.75351964698466056, 0.7558972198820556, 0.7498411353526796, 0.76362094551621795, 0.78284923928077454, 0.7893075142075352, 0.79745358090185681, 0.79590093936806139, 0.80297477904720849, 0.80333911535125768, 0.86620603015075359, 0.87344028520499117, 0.88256671166026368, 0.89378716424031168, 0.89855367691994292, 0.8995615376771694, 0.89978547349065285, 0.91462297751093913, 0.91860465116279078])
fscore_metadata_no_svd_unigram.append([0.0, 0.0, 0.0, 0.0, 0.30257029498016214, 0.52038062775173988, 0.6674819615996086, 0.77584085315832652, 0.76936316695352835, 0.7994738972076082, 0.80061728395061726, 0.80074066454068504, 0.8001225615361045, 0.81144815076085863, 0.82279751153923331, 0.83680241327300153, 0.84543610547667347, 0.86016451233842539, 0.86626865671641795, 0.87535014005602252, 0.88025189412575022, 0.88475247524752465, 0.88941925218774864, 0.89545725054552672, 0.89245810055865915, 0.89588522466872567, 0.90302911093627058, 0.90717010662232223, 0.90481809242871192, 0.90655315779053658, 0.9119728840594159])
fscore_metadata_no_svd_unigram.append([0.0, 0.0, 0.0, 0.0, 0.30257029498016214, 0.55951742627345846, 0.65091924598557127, 0.76873939514921652, 0.76358446324803753, 0.76849301091725331, 0.80214353262582749, 0.80046550994498522, 0.80922915574200316, 0.81154570173603846, 0.81161843067600037, 0.8235536339304097, 0.82892674260633292, 0.82855055828028812, 0.83027619650010542, 0.84066574790628645, 0.85514506366103116, 0.86425386290573458, 0.86014208461456898, 0.86840132776528534, 0.88060947610102269, 0.89662273476112031, 0.89912416280267915, 0.90166477096473985, 0.90720378172849658, 0.91132445545576546, 0.91713048855905999])

average_metadata_no_svd_unigram = list(np.mean(np.matrix(fscore_metadata_no_svd_unigram), axis=0).A1)


fscore_metadata_no_svd_bigram = []
fscore_metadata_no_svd_bigram.append([0.0, 0.0, 0.0, 0.0, 0.30139823925427239, 0.56088961215080013, 0.68846289544866524, 0.79101443382801384, 0.78892447566897417, 0.78917467203801261, 0.79622409193515276, 0.7999584113121232, 0.8089397089397089, 0.80946502057613168, 0.8152879365406408, 0.82424859908303616, 0.8321928301501379, 0.84507326932794347, 0.84623927309439673, 0.87013924703455392, 0.87474205530334292, 0.8836397247612201, 0.88911683249564055, 0.88941176470588246, 0.88725388601036259, 0.89701274284520582, 0.90215142738932563, 0.90944518510921968, 0.91941206284845411, 0.91940906775343856, 0.92231237322515214])
fscore_metadata_no_svd_bigram.append([0.0, 0.0, 0.0, 0.0, 0.30246594240386271, 0.53616786305908337, 0.64918032786885249, 0.76164439044147425, 0.76560305037126231, 0.7563361026396046, 0.75636754433100473, 0.77700904736562004, 0.7877323810524105, 0.78942398489140697, 0.81994062851878391, 0.82442586517091754, 0.8492551307427858, 0.85524540832209195, 0.85509504518541601, 0.87922322401664521, 0.88587279572022981, 0.88612099644128106, 0.8949192829553333, 0.8912142152023691, 0.89622923092229634, 0.90263367916999204, 0.90546260834509162, 0.9069884364002011, 0.91055925701594997, 0.91509625126646399, 0.919006919006919])
fscore_metadata_no_svd_bigram.append([0.0, 0.0, 0.0, 0.0, 0.30158730158730163, 0.54467052957822393, 0.65140378358838413, 0.76417669058930549, 0.75902115304852757, 0.75982170622991596, 0.79180747567844334, 0.80377281115439825, 0.81447780810838144, 0.82292204439855454, 0.81660755268099317, 0.82997716421008938, 0.85339034819792303, 0.87333994053518338, 0.86599166170339492, 0.87056491575817641, 0.8720134827005056, 0.87726723095525994, 0.88657105606258158, 0.89803610394762956, 0.90290189778090169, 0.90783824263604596, 0.91507011653170056, 0.92050542234603516, 0.92157837193121961, 0.9273731793068809, 0.92755380418308586])
fscore_metadata_no_svd_bigram.append([0.0, 0.0, 0.0, 0.0, 0.30139823925427239, 0.54846904666399243, 0.63342102253231147, 0.73808324095535627, 0.75719406041986681, 0.76475949367088603, 0.7822335523090499, 0.7829495345418912, 0.7831395348837209, 0.78431752178121972, 0.79324324324324325, 0.79859553301472741, 0.84794065976966615, 0.85163059445695821, 0.86144225131913232, 0.86996751648784332, 0.87858462136677362, 0.88739761176354481, 0.89274790330537745, 0.89965534219596266, 0.9021717863431814, 0.90702947845804993, 0.90842563291139244, 0.91021302010750538, 0.9136791508111356, 0.92048531033791237, 0.92556634304207119])
fscore_metadata_no_svd_bigram.append([0.0, 0.0, 0.0, 0.0, 0.30134622022782187, 0.54445043103448287, 0.61260821850993785, 0.72444257467395867, 0.72666176625013124, 0.80089896822964557, 0.80642173510342696, 0.81728191379665927, 0.8232510288065843, 0.8312889603860848, 0.83433856051467625, 0.83826787512588119, 0.8443731836857401, 0.85196802590306597, 0.8563108745858018, 0.85289124138619798, 0.86238718182740093, 0.86960073521903403, 0.86960073521903403, 0.87980376124284532, 0.88961636828644508, 0.88796258641724279, 0.89318806638835158, 0.89603806765283955, 0.89480775209866315, 0.90040418696237956, 0.90625])

average_metadata_no_svd_bigram = list(np.mean(np.matrix(fscore_metadata_no_svd_bigram), axis=0).A1)


#####
#experiments lstm

fscore_metadata_deep = []
fscore_metadata_deep.append([0.0, 0.0, 0.0, 0.0, 0.29922346850733389, 0.52625651133323947, 0.6019417475728156, 0.71974456689669375, 0.72218219248584659, 0.73029645697758483, 0.73113840437609656, 0.73573291601460622, 0.71847704367301224, 0.74717066545948385, 0.77434628214785328, 0.78333333333333333, 0.80252730777468417, 0.82953243777986041, 0.84304006608839321, 0.89319039110581688, 0.89764090415556208, 0.89775071211079471, 0.9071235347159603, 0.90630666935321369, 0.9084577114427862, 0.91421763304209702, 0.92009493670886078, 0.92018593610918797, 0.92324517796778693, 0.93302724822836602, 0.93824180245423461])
fscore_metadata_deep.append([0.0, 0.0, 0.0, 0.0, 0.30139823925427239, 0.55173351461590758, 0.64427259545674243, 0.7658044542095277, 0.78801932367149752, 0.80113971310670073, 0.80139372822299659, 0.80200757963740654, 0.82336268853122785, 0.82365981459089066, 0.82772598297527356, 0.88119999999999998, 0.88550378335324587, 0.89467904562244183, 0.90377733598409549, 0.9097023044209277, 0.90460688566637071, 0.90744387554155181, 0.91699840764331209, 0.92278302835310666, 0.92388134741075911, 0.9263410728582866, 0.92975124378109464, 0.93346673336668329, 0.93629362936293625, 0.94434974430963603, 0.94748446582481449])
fscore_metadata_deep.append([0.0, 0.0, 0.0, 0.0, 0.29815166695456902, 0.57490413856935074, 0.70252061795795095, 0.81629048086359179, 0.81642274825655636, 0.83216576221016281, 0.82710422364023084, 0.85325114336846297, 0.85568170195356452, 0.85808106721395594, 0.86710459828196063, 0.87905544147843939, 0.86514778325123154, 0.87594988704046006, 0.87590336568242833, 0.88268616747347817, 0.88139438943894399, 0.8855291576673866, 0.89121941188566745, 0.89533443435177551, 0.89665180885249307, 0.897832175085572, 0.92679926184129591, 0.92359897172236494, 0.93439240767485043, 0.94615306018187395, 0.95060216370687878])
fscore_metadata_deep.append([0.0, 0.0, 0.0, 0.0, 0.2966937857019214, 0.54979310344827592, 0.68649229666786105, 0.79965021375825884, 0.80765832106038293, 0.7986791648913506, 0.8145750678638547, 0.82384767453959007, 0.84641780180929604, 0.85628432286809664, 0.86772708246128083, 0.86997389033942563, 0.86897700072848383, 0.88477152076610799, 0.88466282894736847, 0.89672749515750838, 0.89802965671338608, 0.91006871825515401, 0.91216080402010047, 0.92332396627860291, 0.9245585874799358, 0.92749576144410084, 0.92529435647584246, 0.93294045925624869, 0.93531433191833435, 0.93870868719942691, 0.94418319362093639])
fscore_metadata_deep.append([0.0, 0.0, 0.0, 0.0, 0.29757785467128028, 0.55080496173132742, 0.64218676677616138, 0.75468639173168506, 0.75209149634650008, 0.80004225203337909, 0.82447631823341239, 0.85853053632324061, 0.85853053632324061, 0.8583028826634187, 0.8666666666666667, 0.86721649484536079, 0.87784031686470698, 0.8765912677538138, 0.87670942436128485, 0.88656122342096988, 0.90119232763089685, 0.90341690468634295, 0.92011190550202049, 0.92145949288806428, 0.92706843718079668, 0.92763962494904195, 0.93158483277421966, 0.9326541008660213, 0.93380710659898492, 0.93724019061137587, 0.9404617253948967])

average_metadata_deep = list(np.mean(np.matrix(fscore_metadata_deep), axis=0).A1)


fscore_lstm_only = []
fscore_lstm_only.append([0.0, 0.0, 0.0, 0.0, 0.30344827586206896, 0.47829243502250618, 0.62908086388749374, 0.74721780604133547, 0.733362910381544, 0.74563194917177211, 0.74353472614342175, 0.75317160026708219, 0.80929095354523228, 0.81946375372393243, 0.82177118045036857, 0.83836337856998178, 0.84467005076142121, 0.85298575325856307, 0.86127283677976307, 0.8683462405646506, 0.88807809880682376, 0.89439140811455842, 0.89762522450608662, 0.89773520901925574, 0.90176272529213708, 0.9032000797527665, 0.90282317979197624, 0.90871121718377101, 0.91007905138339917, 0.91663342640606305, 0.92366335640485497])
fscore_lstm_only.append([0.0, 0.0, 0.0, 0.0, 0.30051813471502592, 0.55663258531403537, 0.6002234082164577, 0.72217590662776154, 0.69785706271737913, 0.69931637341701225, 0.72441120660788028, 0.72483820575764335, 0.72540709346419818, 0.74857142857142844, 0.74870893308427655, 0.77257312420517155, 0.77927063339731295, 0.85705789056304527, 0.86311047404525443, 0.86824254881808849, 0.87274211654250433, 0.879764801297648, 0.8842700030269397, 0.88908999497234786, 0.88953082976392073, 0.89576612903225794, 0.90242914979757094, 0.90281173594132025, 0.90564879246827679, 0.90985282093213404, 0.91535092187022515])
fscore_lstm_only.append([0.0, 0.0, 0.0, 0.0, 0.3022774327122153, 0.57623996842520719, 0.70310874841095572, 0.79344395805761991, 0.81353846153846154, 0.81887492272820928, 0.82760755184153512, 0.82809116221511803, 0.8366575687591854, 0.849517083809326, 0.85930470347648269, 0.85542422963275644, 0.85702253105917048, 0.85789252728799337, 0.85702580909463344, 0.87510460251046029, 0.8872087001553598, 0.89048547675254019, 0.89118236472945889, 0.90446749102512958, 0.91111556982343489, 0.91278952668680757, 0.91481181707810599, 0.92434077079107502, 0.92598233323180013, 0.92685401237699094, 0.92905713995737338])
fscore_lstm_only.append([0.0, 0.0, 0.0, 0.0, 0.29951690821256038, 0.58046658758402536, 0.67294117647058826, 0.77429119160528703, 0.80379746835443044, 0.82425095515785252, 0.81116584564860428, 0.81093300452116723, 0.82638599416423508, 0.82866368086657649, 0.84463449399307677, 0.84522234659611273, 0.85495716034271729, 0.85844011704167089, 0.86801619433198385, 0.86879505664263645, 0.88586133817741453, 0.88668755685838474, 0.88664883768771852, 0.89241803278688525, 0.90005063291139231, 0.90853905301497373, 0.91069574247144336, 0.91313755795981455, 0.91393864525427215, 0.91790892383091693, 0.92017149857084524])
fscore_lstm_only.append([0.0, 0.0, 0.0, 0.0, 0.30051813471502592, 0.53174603174603174, 0.67854947756607253, 0.78246552788639623, 0.79638291237917047, 0.80138020271727406, 0.82149794949276933, 0.82238757683597541, 0.81311475409836065, 0.84597938144329898, 0.86740890688259109, 0.87486044859433665, 0.88051842851356821, 0.8881750652479421, 0.89729403480535164, 0.89970827884518667, 0.90125565042692113, 0.90169695752585599, 0.90274714257068389, 0.9034068136272545, 0.90805416963649321, 0.90979276716781798, 0.91417685983557251, 0.91456077015643811, 0.92347966169955686, 0.92008508052263749, 0.92243739227415589])

average_lstm_only = list(np.mean(np.matrix(fscore_lstm_only), axis=0).A1)




fscore_metadata_only = []
fscore_metadata_only.append([0.0, 0.0, 0.0, 0.0, 0.29023658780406536, 0.5476070528967254, 0.61856332298469108, 0.71378708551483427, 0.72527472527472525, 0.72770091256991454, 0.72316495659037094, 0.73763884793079726, 0.74178403755868549, 0.76077979448765964, 0.77155131264916466, 0.77282216739419241, 0.76067546583850931, 0.7616003099874068, 0.76546024508406951, 0.77896125930813453, 0.78827977315689979, 0.84162808641975306, 0.84573748308525032, 0.87242879746835433, 0.88257204469711814, 0.88585365853658538, 0.88611056847040437, 0.88671875, 0.89480480778782157, 0.89887416558732691, 0.90407093913744463])
fscore_metadata_only.append([0.0, 0.0, 0.0, 0.0, 0.29421768707482993, 0.48519553072625687, 0.55822737001133071, 0.68214358764573535, 0.738553289726818, 0.76878727634194821, 0.78659398344437703, 0.78700141729094963, 0.82427921092564493, 0.82845610494450039, 0.8326241134751774, 0.83536585365853655, 0.83999593123792093, 0.88328012769353548, 0.87185284143459041, 0.88174676053463941, 0.89107305704731987, 0.88715152762061522, 0.88797786204776064, 0.88970965425259052, 0.89248412860946136, 0.89393010423053343, 0.90233782005869856, 0.9033235680371754, 0.90335025380710665, 0.90426829268292686, 0.90264410900617975])
fscore_metadata_only.append([0.0, 0.0, 0.0, 0.0, 0.26997245179063362, 0.44925653240941255, 0.5882911768198551, 0.68905139561231854, 0.71342644510143749, 0.71369551745507132, 0.74841113302651763, 0.77020094057289434, 0.78539682539682543, 0.79917525773195863, 0.80902850010401495, 0.81041968162083944, 0.8128630705394192, 0.83554586883297011, 0.83525896414342626, 0.84183420818064769, 0.83938461538461528, 0.83994668307187537, 0.85777822702921269, 0.86598786382803661, 0.86720363486162733, 0.87159453068777637, 0.86960996192240403, 0.86804123711340209, 0.87186343068696004, 0.8744482086028128, 0.87506416179037061])
fscore_metadata_only.append([0.0, 0.0, 0.0, 0.0, 0.2922451743989164, 0.54686289697908586, 0.59776469174378088, 0.71797967602374491, 0.67650469062928231, 0.69650468883205452, 0.7399834779016935, 0.77258944815039421, 0.7937411095305833, 0.79752986434500905, 0.8007693865154889, 0.8153434433541481, 0.82961480740370186, 0.85173563443812506, 0.87204705428598961, 0.87813377214209665, 0.87971239797901279, 0.88105036253184399, 0.88360304152856306, 0.88702439024390245, 0.8873280655545801, 0.88700234192037475, 0.89038292896813798, 0.89450078003120126, 0.89351309105119181, 0.89656518345042924, 0.90428015564202335])
fscore_metadata_only.append([0.0, 0.0, 0.0, 0.0, 0.28379963142905013, 0.44725855830782074, 0.49845121321631386, 0.64443500424808831, 0.65362829966869729, 0.71152228763666947, 0.73122700714131139, 0.73143864287287952, 0.74742036787797228, 0.80138094724349984, 0.83770732731471775, 0.84589684694090639, 0.85144587117653192, 0.85258711721224933, 0.85639137296159928, 0.85912970182277937, 0.88035264483627207, 0.88535495270761877, 0.88572911261027498, 0.88833695539687463, 0.89042938437661667, 0.89158626413528375, 0.89971521562245726, 0.90284096653523394, 0.90394088669950734, 0.90621793556330799, 0.90793390126244478])

average_metadata_only = list(np.mean(np.matrix(fscore_metadata_only), axis=0).A1)



######




ranges = [label_potential, label_potential, label_potential, label_potential, label_potential]
list = [average_metadata_no_svd_unigram, average_metadata_no_svd_bigram, average_metadata_only, average_metadata_no_svd_absolute_potential, average_metadata_deep]
names = ["Unigrams", "Bigrams", "Metadata", "Unigrams + Metadata", "LSTM + Metadata"]


plot_list_latex(ranges, list, names, "Flights", x_max=200)
plot_list(ranges, list, names)