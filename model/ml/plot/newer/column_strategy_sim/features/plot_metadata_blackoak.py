import numpy as np
from ml.plot.newer.column_strategy_sim.plotlatex_lib import plot_list_latex
from ml.plot.newer.column_strategy_sim.plotlatex_lib import plot_list
from ml.plot.newer.column_strategy_sim.plotlatex_lib import plot_integral
from ml.plot.newer.column_strategy_sim.plotlatex_lib import plot_integral_latex
from ml.plot.newer.column_strategy_sim.plotlatex_lib import plot_outperform
from ml.plot.newer.column_strategy_sim.plotlatex_lib import plot_outperform_latex


labels_all = [4, 8, 12, 16, 20, 24, 28, 38, 48, 58, 68, 78, 88, 98, 108, 118, 128, 138, 148, 158, 168, 178, 188, 198, 208, 218, 228, 238, 248, 258, 268, 278, 288, 298, 308, 318, 328, 338, 348, 358, 368, 378, 388, 398, 408, 418, 428, 438, 448, 458, 468, 478, 488, 498]

char_unigram_sim = []
char_unigram_sim.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.050560981372710125, 0.3713195128604468, 0.4036529210468454, 0.5567434739668784, 0.6245133197573592, 0.6866625575257236, 0.7331976115132591, 0.80465630516502, 0.8724968636614976, 0.8888891004703087, 0.90205909537417, 0.9117367082912089, 0.9193152227199283, 0.9230434776424236, 0.9244346241954229, 0.927277587139298, 0.9318001073036196, 0.9336595442779971, 0.9367225528663784, 0.9381066663989565, 0.9427679152252171, 0.9445113197638909, 0.9480881542624575, 0.9580555615016655, 0.9569675539082663, 0.961958466209366, 0.9679962690253916, 0.9683429136072466, 0.9688739902915506, 0.9700764098632828, 0.9717430658631752, 0.9720667235220386, 0.9712060884298721, 0.9715386130361742, 0.9730916185086294, 0.9737730295960144, 0.9737254854275557, 0.9735937241284509, 0.9746845883553916, 0.9755990441621736, 0.9760930767354985, 0.9765455030523548, 0.9772254744907635, 0.9777360049666995])
average_char_unigram_sim = list(np.mean(np.matrix(char_unigram_sim), axis=0).A1)

char_bigram_sim = []
char_bigram_sim.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.05960856613870576, 0.40610362000225775, 0.43665269922848243, 0.5844229997463297, 0.6001510551089784, 0.6522592932964247, 0.7468529581664296, 0.7945031071399588, 0.8639328716795178, 0.8974240846938855, 0.9137501329377645, 0.920024638030255, 0.9250317802237383, 0.9296705784463943, 0.9310973859658654, 0.935178017267958, 0.936698163038012, 0.943878822856392, 0.9561007050981157, 0.9589945066185953, 0.961482290388781, 0.9574911489232031, 0.9625097950403039, 0.9573059710049066, 0.9649569721024474, 0.9698149908239395, 0.969966219333641, 0.97175505473051, 0.9729100864825033, 0.9744414764174912, 0.9763095573668, 0.9765295332971217, 0.9765177452590234, 0.9777850378154291, 0.9785828207910647, 0.9791121511602539, 0.9793166388732324, 0.9805361141520743, 0.980992040364991, 0.9813805621629499, 0.9817940287194465, 0.9822386717303411, 0.9824730021100292, 0.9830908242122878])
average_char_bigram_sim = list(np.mean(np.matrix(char_bigram_sim), axis=0).A1)

word_unigram_sim = []
word_unigram_sim.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.4347642712481564, 0.4347642712481564, 0.4528387046373327, 0.44965327490259094, 0.44965327490259094, 0.44965327490259094, 0.46846076094365746, 0.46792939715669907, 0.46792939715669907, 0.5733632988652673, 0.578965919728121, 0.5877845442314507, 0.5870411544474433, 0.5872227376718065, 0.5892181477419595, 0.5873377651156002, 0.5878268637322578, 0.5901341579776448, 0.5957593752397168, 0.5973365431705696, 0.6101686653018098, 0.6106422778593582, 0.6126070076883262, 0.6180528110997607, 0.600753188030395, 0.5971841031094983, 0.5959683759100101, 0.6404215747056902, 0.6449048563208183, 0.6513742142876018, 0.6615428254152175, 0.6757489200799714, 0.6770167696380003, 0.6785246604382834, 0.6741818332010514, 0.6743192296538782, 0.6749201325471309, 0.6793486161502599, 0.6782556359032703, 0.6780412547181902, 0.6787219977967041, 0.6822513872986781, 0.6845847395859458])
average_word_unigram_sim = list(np.mean(np.matrix(word_unigram_sim), axis=0).A1)

metadata_sim = []
metadata_sim.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.26399522235378087, 0.6466064010045365, 0.7802934354483384, 0.8768939512544301, 0.9220513731471677, 0.9493463992609954, 0.9543814589486832, 0.9553809327997659, 0.9627356592414464, 0.9627356592414464, 0.9647989638860691, 0.9595257667052293, 0.9760115068793306, 0.978871743131012, 0.9720815504529317, 0.9790204725689386, 0.9786652312067321, 0.9789630614658604, 0.9778217027453844, 0.9755456866173224, 0.9738200940169097, 0.9792252034068334, 0.9796695520555015, 0.9811633481981434, 0.9815016375797774, 0.9830743440494037, 0.9831176994835127, 0.9832212334285357, 0.9841197679949426, 0.9851729988704634, 0.9863258994382894, 0.986787605202583, 0.9874663630822059, 0.9875981555486286, 0.9878096836211586, 0.9874907977297926, 0.98795984431944, 0.9881628544656426, 0.9882821367243168, 0.9887179036387364, 0.9888376058238724, 0.9891471993243692, 0.9886054010829005, 0.989117205142421])
average_metadata_sim = list(np.mean(np.matrix(metadata_sim), axis=0).A1)

metadata_char_unigrams_sim = []
metadata_char_unigrams_sim.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.14240343779747952, 0.5741965011024701, 0.6522479213872837, 0.7754172263354274, 0.8348535468119946, 0.9201583523198711, 0.9467868300437523, 0.9557015103847423, 0.9699006951278741, 0.9746786998563955, 0.9762495029966646, 0.976545131810877, 0.9790016833913986, 0.9784384381945717, 0.980207552681498, 0.9776896583207882, 0.9821551159400732, 0.9837952497957545, 0.9829444718035221, 0.9851874777131442, 0.9842950322383803, 0.9858819102302974, 0.986225954973888, 0.986627587462511, 0.9869414419184146, 0.9870350877016698, 0.9873929884459466, 0.9878255751809604, 0.9886482204112863, 0.988889526263099, 0.9890766571575952, 0.9890557075074599, 0.9898389569861441, 0.9898419789080177, 0.9899748656743992, 0.9912639400969289, 0.991396010646308, 0.9915440908783468, 0.9920261300132875, 0.9921330040192424, 0.992160054515851, 0.9921668779730888, 0.992212602756771, 0.9922987806783])
average_metadata_char_unigrams_sim = list(np.mean(np.matrix(metadata_char_unigrams_sim), axis=0).A1)

print str(len(average_metadata_char_unigrams_sim))

metadata_error_corr = []
metadata_error_corr.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.2912145038663981, 0.6733289329302901, 0.8058495969051992, 0.9036923482446952, 0.9420326290631296, 0.9662234824141862, 0.9575062244539714, 0.9575062244539714, 0.9575062244539714, 0.9575062244539714, 0.9575062244539714, 0.9706683124556006, 0.9779868993960443, 0.9779868993960443, 0.977574265487743, 0.9853014537624996, 0.9853014537624996, 0.9853083634514564, 0.9858488744739179, 0.9858488744739179, 0.98585540075292, 0.98585540075292, 0.9849727039487645, 0.9865629876075155, 0.9865861167436598, 0.9865861167436598, 0.9866220520160406, 0.9915760208069083, 0.9917308788583361, 0.9917308788583361, 0.9917308788583361, 0.9917308788583361, 0.9918362381385343, 0.9919096907625764, 0.9916344895759022, 0.9916344895759022, 0.9916472323259466, 0.9916472323259466, 0.9922683546572283, 0.9922683546572283, 0.9922683546572283, 0.9921818746219746, 0.9926250147979637, 0.9927114728711933, 0.9927114728711933, 0.9927114728711933, 0.9927114728711933, 0.9935044177631159, 0.9937386735192875, 0.9938382869926494, 0.9938509920229085][0:54])
metadata_error_corr.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.08700997547214599, 0.5557597757662087, 0.7216032746357576, 0.8333055934667067, 0.7722553377655211, 0.7410905394828117, 0.861972643347451, 0.861972643347451, 0.947592024064254, 0.9838731500512219, 0.9838731500512219, 0.9838731500512219, 0.9838731500512219, 0.9760063212262152, 0.9834449973142749, 0.9834449973142749, 0.9845321879028913, 0.9860427986506322, 0.9860493262861079, 0.9860493262861079, 0.9860493262861079, 0.9860493262861079, 0.9860493262861079, 0.9856230186189473, 0.985417425001369, 0.9864141462943279, 0.9897549396972029, 0.9913396360470847, 0.9913749787974896, 0.9913749787974896, 0.9918138760880697, 0.9918203288509417, 0.9918203288509417, 0.9918171024798308, 0.9918454605970608, 0.9918454605970608, 0.9918454605970608, 0.9918454605970608, 0.9918454605970608, 0.9921297644690391, 0.9923235013541112, 0.9922276228173187, 0.9924027137736815, 0.9924027137736815, 0.9924059382810476, 0.9924059382810476, 0.9924317335970226, 0.9925533378774933, 0.9925597857218288, 0.9925597857218288, 0.9925597857218288][0:54])
metadata_error_corr.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.23057106777045042, 0.6455110553605719, 0.7178126713928781, 0.8300953778973862, 0.9268068536885887, 0.9812549827911408, 0.9812549827911408, 0.9687471538051187, 0.9783686813865363, 0.9783686813865363, 0.9783686813865363, 0.9783686813865363, 0.9783686813865363, 0.9837258020716142, 0.9837258020716142, 0.9853033165880994, 0.9565007444368435, 0.9901335810616011, 0.9901335810616011, 0.9915381264733012, 0.9915381264733012, 0.991547816172208, 0.991547816172208, 0.991547816172208, 0.9677046120860121, 0.9872691194129207, 0.9873883057515569, 0.9909681214651784, 0.9887699238141423, 0.9910197922627629, 0.9910294691210415, 0.9910359202567742, 0.9910359202567742, 0.9919889856557377, 0.9920148049486437, 0.9920629332582298, 0.9920629332582298, 0.9920629332582298, 0.9920629332582298, 0.9920693341185055, 0.9920628824538494, 0.9920854629188096, 0.9920886379783782, 0.9922333205275963, 0.9922365468160238, 0.992246275202807, 0.992246275202807, 0.992246275202807, 0.9922494517631616, 0.9922494021378971, 0.9923203738975943][0:54])
metadata_error_corr.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.24290896083790234, 0.6347987702141702, 0.7116794152712851, 0.8253699062020223, 0.8253699062020223, 0.9276092783434842, 0.9767621998450813, 0.9650745370150341, 0.986434121022599, 0.986443923621745, 0.986443923621745, 0.986443923621745, 0.9549672640943685, 0.9890355512005174, 0.9773895790474434, 0.9880148639969837, 0.9880148639969837, 0.9864921070649287, 0.9864921070649287, 0.9865050773926455, 0.9865050773926455, 0.987274125336409, 0.9872643912379012, 0.9876478318002627, 0.9876478318002627, 0.9889107580048965, 0.9902383030698346, 0.9902383030698346, 0.9906365663357848, 0.9906463129070645, 0.991722299816763, 0.9918011260640921, 0.991453155733241, 0.9918707520034848, 0.9918772100650848, 0.9918837720281601, 0.9918837720281601, 0.9918837720281601, 0.9921511990956746, 0.9921801448690607, 0.9921801448690607, 0.992230833279959, 0.9922342098268468, 0.9922342098268468, 0.9922342098268468, 0.9922342098268468, 0.9922222471269705, 0.9922222471269705, 0.9922222471269705, 0.9922222471269705, 0.9922286512050874][0:54])
metadata_error_corr.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.13023056708324912, 0.5684724175759148, 0.739672, 0.8484855129666988, 0.886929332159014, 0.9770703371473547, 0.9854156115216992, 0.9854156115216992, 0.9889328774518625, 0.9889328774518625, 0.9889328774518625, 0.9889328774518625, 0.9892442719644302, 0.9849225216415054, 0.9840711486553713, 0.9840711486553713, 0.9806816507708764, 0.9831349588485293, 0.9896306562973229, 0.9896371394654946, 0.9896371394654946, 0.9817937644995911, 0.9899236092849033, 0.9899300878712077, 0.9899300878712077, 0.9912915829318872, 0.9912915829318872, 0.9919494606811403, 0.9919430019445717, 0.9919430019445717, 0.9920791762087025, 0.9921173082897986, 0.9921205365722412, 0.9921205365722412, 0.9921205365722412, 0.9921366776742503, 0.9922450338759461, 0.9923954981348959, 0.9924019505822609, 0.9924019505822609, 0.9924019505822609, 0.9924019505822609, 0.9924086946220515, 0.9924054199431367, 0.9924054199431367, 0.9924054199431367, 0.9924054199431367, 0.992402193854518, 0.9924025344095075, 0.992444566811159, 0.992444566811159][0:54])
metadata_error_corr.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.2903211838444635, 0.6634536861123923, 0.7160154837871101, 0.8284355692932617, 0.8685333199041734, 0.9662829704663553, 0.9662829704663553, 0.9611197105368001, 0.9724040626537588, 0.9724040626537588, 0.9724040626537588, 0.9724141077107554, 0.9724141077107554, 0.9826638450520665, 0.9826736905264991, 0.9867068084091363, 0.9868558852057011, 0.9782587209024273, 0.9869601334252027, 0.986966740719276, 0.986966740719276, 0.9869700862543586, 0.9869700862543586, 0.9857978063747203, 0.9857978063747203, 0.9857978063747203, 0.9857978063747203, 0.9868585873222883, 0.9868585873222883, 0.9868585026872286, 0.9870496184435071, 0.9872199223594981, 0.9872199223594981, 0.9872199223594981, 0.9872199223594981, 0.9872296282932675, 0.987197824854389, 0.987197824854389, 0.98736232406957, 0.98736232406957, 0.98736232406957, 0.9873941322955694, 0.9873941322955694, 0.9873941322955694, 0.9873941322955694, 0.987400656544668, 0.987400656544668, 0.987400656544668, 0.987400656544668, 0.987420228787542, 0.9874100371771164][0:54])
metadata_error_corr.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.21634242127155573, 0.5881521364463391, 0.6747967147635521, 0.7914048503223741, 0.8258658721213541, 0.9227741613104161, 0.9816885893863798, 0.9816885893863798, 0.9803190575451178, 0.9803190575451178, 0.9803190575451178, 0.9803190575451178, 0.9803190575451178, 0.9803190575451178, 0.9809521654669515, 0.985400780209019, 0.9799447457280261, 0.9804898643245976, 0.9849690142290766, 0.9832906993580772, 0.9832906993580772, 0.9832972421626387, 0.9900316911552867, 0.9900316911552867, 0.9900413901719949, 0.9885033991893013, 0.9910482166869437, 0.9910482166869437, 0.9910482166869437, 0.9910482166869437, 0.9917352727551971, 0.9917035946823657, 0.9917035946823657, 0.9917035946823657, 0.9917162868231687, 0.9917388689097354, 0.9917388689097354, 0.9919986168077075, 0.9922667212946842, 0.9922667212946842, 0.9922698974120961, 0.992286025222457, 0.992286025222457, 0.992286025222457, 0.992286025222457, 0.9923209638646774, 0.9923209638646774, 0.9923209638646774, 0.9923177383421681, 0.9923177383421681, 0.9923272674893168][0:54])
metadata_error_corr.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.20732200993220784, 0.6203310854389976, 0.6464570826071052, 0.7674954621600506, 0.7713690822652535, 0.8505770657931775, 0.9693877885570589, 0.9653664486660438, 0.9706791587473461, 0.9706791587473461, 0.9706791587473461, 0.9706791587473461, 0.9706791587473461, 0.9809963015978911, 0.9857969997650534, 0.9856024183563539, 0.9856143990904216, 0.9858931399730778, 0.9914849056422507, 0.9914849056422507, 0.9914849056422507, 0.9914913648721783, 0.9914913648721783, 0.9914913648721783, 0.9914055150611468, 0.9919208932808602, 0.9917361197894136, 0.9917458120249677, 0.9918306935260649, 0.9914564973561929, 0.9919467473059723, 0.9919532055840653, 0.9920852271453326, 0.9919807332633036, 0.9919807332633036, 0.9919807332633036, 0.9919807332633036, 0.9920796835716689, 0.9920796835716689, 0.9920993553304531, 0.9920990010857068, 0.9920990010857068, 0.9921119128371173, 0.9921119128371173, 0.9921119128371173, 0.9921119128371173, 0.9922529279704849, 0.9923043666234329, 0.992307593769215, 0.992307593769215, 0.992307593769215][0:54])
metadata_error_corr.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.16917253828684564, 0.5907432474832139, 0.6117599411870877, 0.7342110977318936, 0.7425324481129253, 0.8955157817083238, 0.9724134774449609, 0.9750245476905727, 0.9785795250874354, 0.9785795250874354, 0.984565220900389, 0.984565220900389, 0.98457177723183, 0.9843368986027068, 0.9843368986027068, 0.984953065050646, 0.9897121453127405, 0.9889371865910739, 0.9890574092798562, 0.9890574092798562, 0.9890574092798562, 0.9919435407433973, 0.9919435407433973, 0.9919435407433973, 0.9919342965234257, 0.992159762840029, 0.9921859244201865, 0.9921695749426398, 0.992160465570391, 0.992160465570391, 0.9922314869644544, 0.9922476153895398, 0.9922476153895398, 0.9922476153895398, 0.9922540170283594, 0.9922571930644424, 0.992384048742088, 0.992384048742088, 0.9923904974016333, 0.9924603657170653, 0.9926601395021436, 0.9926601395021436, 0.9926601395021436, 0.9926601395021436, 0.9926601395021436, 0.9926601395021436, 0.9926601395021436, 0.9927112863075851, 0.9927112863075851, 0.9927112863075851, 0.9927112863075851][0:54])
metadata_error_corr.append([0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1344476959879383, 0.5714999954548347, 0.7334627529320789, 0.8435008385065756, 0.8757529797249926, 0.8757529797249926, 0.9661544331443156, 0.9735242729543934, 0.9735309774107058, 0.9735309774107058, 0.9735309774107058, 0.9737421229633983, 0.9737421229633983, 0.9761602510269581, 0.9863718245771205, 0.9863718245771205, 0.9800143539741759, 0.9833029633363056, 0.9784897114141581, 0.9835634238503286, 0.9835732802368654, 0.9835732802368654, 0.9835732802368654, 0.9835732802368654, 0.983103401788523, 0.9832567901947757, 0.9832567901947757, 0.9832567901947757, 0.9832567901947757, 0.9832567901947757, 0.9832665793730262, 0.9834687407749669, 0.9834654790133835, 0.9834654790133835, 0.9872766160308194, 0.9872766160308194, 0.9872766160308194, 0.9872766160308194, 0.9872766160308194, 0.9872766160308194, 0.9872766160308194, 0.9872798781135954, 0.9872798781135954, 0.9871479372278198, 0.9873626497524393, 0.9874133621911314, 0.9876777739497772, 0.9923643601871468, 0.9923643601871468, 0.9924555479090313, 0.9924523228792564][0:54])

average_metadata_error_corr = list(np.mean(np.matrix(metadata_error_corr), axis=0).A1)


'''
ranges = [labels_all,
		  labels_all,
          labels_all,
          labels_all,
          labels_all,
		  ]
list = [average_metadata_char_unigrams_sim,
average_char_unigram_sim,
average_char_bigram_sim,
average_metadata_sim,
average_word_unigram_sim

		]
names = [
		 "Metadata + char unigrams",
		 "Char unigrams",
		 "Char bigrams",
		 "Metadata",
		 "Word unigrams"
		 ]
'''

ranges = [labels_all,
		  labels_all
		  ]
list = [average_metadata_char_unigrams_sim,
		average_metadata_error_corr
		]
names = [
		 "Metadata + char unigrams",
		 "Metadata + char unigrams + error correlation"
		 ]

plot_list_latex(ranges, list, names, "Address", x_max=200)
plot_list(ranges, list, names, "Address", x_max=200, end_of_round=98)
plot_integral(ranges, list, names, "Address", x_max=150, x_min=98)
#plot_end(ranges, list, names, "Address", x_max=150, x_min=98)
#plot_integral_latex(ranges, list, names, "Address", x_max=350)
#plot_outperform_latex(ranges, list, names, "Address",0.904, x_max=350)